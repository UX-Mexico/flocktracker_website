/* :files, 'spec_javascripts', ... @ (none) */


/* :files, 'spec_javascripts', ... @ (none) */


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1393973213 */


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1393973407 */
/* public/javascripts/ads/base.coffee @ 1393973407 */
(function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};null==window.Scribd&&(window.Scribd={}),null==Scribd.Ads&&(Scribd.Ads={}),null==(e=Scribd.Ads).attributes&&(e.attributes={}),Scribd.Ads.loaded=!1,Scribd.Ads.addAttribute=function(e,n,r){var i,o,a,s,c,u,l;if(null==r&&(r=!0),null==e||null==n)throw"addAttribute called without name or value";if(i=null!=(s=Scribd.Ads.attributes)[e]?(s=Scribd.Ads.attributes)[e]:s[e]=[],n instanceof Array){for(o=i.length,a=n,c=0,u=a.length;u>c;c++)n=a[c],Scribd.Ads.addAttribute(e,n,!1);i.length===o&&(r=!1)}else t.call(i,n)>=0?r=!1:i.push(n);return r&&"undefined"!=typeof googletag&&null!==googletag&&null!=(l=googletag.cmd)&&l.push(function(){return googletag.pubads().setTargeting(e,i)}),r},Scribd.Ads.addAttributeIfSmaller=function(e,t){var n;if(!(n=Scribd.Ads.attributes[e]))return Scribd.Ads.addAttribute(e,t);if(n.length>1)throw"can't use Scribd.Ads.addAttributeIfSmaller for attribute, '"+e+"' with multiple values";return t<n[0]?Scribd.Ads.attributes[e][0]=t:void 0},Scribd.Ads.queuedForDisplay={},Scribd.Ads.displayedAdUnits={},Scribd.Ads.suppressedAdUnits={},window.jQuery?(Scribd.Ads.observe=function(e,t,n){return"string"==typeof e&&"#"!==e.charAt(0)&&(e="#"+e),$(e).on(t,n)},Scribd.Ads.fire=function(e,t){return $(e).trigger(t)}):window.Prototype&&(Scribd.Ads.observe=Event.observe,Scribd.Ads.fire=function(e,t){return e.fire(t)}),Scribd.Ads.load=function(e){return Scribd.Ads.load.event.fired?null!=e?e():void 0:null!=e?Scribd.Ads.observe(document,Scribd.Ads.load.event.name,e):Scribd.Ads.fire(document,Scribd.Ads.load.event.name)},Scribd.Ads.load.event={fired:!1,name:"scribd:load_ads"},Scribd.Ads.load(function(){return Scribd.Ads.load.event.fired=!0,Scribd.Ads.attributes.AdLayout[0]>=4?Scribd.Ads.setup_ad_repopulation():void 0}),Scribd.Ads.forceAddUnit=function(e,t,n,r){var i,o,a;return a=e.match(/.*_(\d+)x(\d+)/).slice(1),null==t&&(t=e+"_container"),Scribd.Ads.suppressedAdUnits[t]?void 0:(r||(i=document.getElementById(t),i.style.width=a[0]+"px",i.style.height=a[1]+"px"),Scribd.Ads.queuedForDisplay[t]=!0,o=function(){return Scribd.Ads.displayedAdUnits[t]||Scribd.Ads.suppressedAdUnits[t]?void 0:(Scribd.Ads.displayedAdUnits[t]=!0,delete Scribd.Ads.queuedForDisplay[t],googletag.cmd.push(function(){return googletag.display(t)}))},n?"string"==typeof n?Scribd.Ads.observe(document,n,function(){return o()}):Scribd.Ads.loaded?o():Scribd.Ads.observe(document,"scribd:load_ads",function(){return setTimeout(o,50)}):o())},Scribd.Ads.addUnit=function(e,t,n,r){return Scribd.Ads.enabled?Scribd.Ads.forceAddUnit(e,t,n,r):void 0},Scribd.Ads.betweenUnitForPage=function(e){return 1===e?{unit:"Doc_Between_Top_FullBanner_468x60",shouldHide:!1,loadEvent:!0}:2===e?{unit:"Doc_Between_Leaderboard_BTF_728x90_"+e,shouldHide:!1,loadEvent:!0}:e%2===1&&21>=e?{unit:"Doc_Between_Leaderboard_BTF_728x90_"+e,shouldHide:!1,loadEvent:!0}:void 0},Scribd.Ads.addBetweenPageUnit=function(e){var t,n,r;return Scribd.Ads.enabled&&Scribd.Ads.attributes.AdLayout[0]>1&&!navigator.userAgent.match(/iPad/i)&&(r=Scribd.Ads.betweenUnitForPage(e))?(t=document.getElementById("between_page_ads_"+e),n=document.createElement("div"),n.id="between_page_ads_inner_"+e,n.style.position="absolute",t.appendChild(n),1===e?t.style.height="60px":2===e?t.style.height="90px":e%2===1&&21>=e&&(t.style.height="90px"),Scribd.Ads.addUnit(r.unit,n.id,r.loadEvent,r.shouldHide)):void 0},Scribd.Ads.setup_ad_repopulation=function(){var e,t,n,r,i,o;for(n={},e=function(){var e,t;for(t=[],r=e=3;21>=e;r=e+=2)t.push(r);return t}(),i=0,o=e.length;o>i;i++)t=e[i],n[t]=t;return docManager.addEvent("expectedFirstPageChanged",function(e){var t,r,i,o,a;return t=e>2?e%20===1?21:e%20:void 0,i=n[t],null!=i&&i!==e?(o=$("#between_page_ads_"+e),o.height("90px"),a=$("#between_page_ads_"+t),t!==e&&a.height("0px"),r=$("#between_page_ads_inner_"+t),r.css("top",""+o.position().top+"px"),n[t]=e):void 0})},Scribd.Ads.size=function(e,t){var n;if(n=Scribd.Ads.adUnits[e]||Scribd.Ads.RefreshUnit.all[e],!n)throw"unknown ad unit";return null!=t?(Scribd.Ads.size.custom_sizes[e]=t,Scribd.Ads.fire(document,"scribd:ad_size_changed"),parseInt(t.height)):Scribd.Ads.size.custom_sizes[e]?parseInt(Scribd.Ads.size.custom_sizes[e].height):parseInt(e.match(/.*_(\d+)x(\d+)/).slice(1)[1])},Scribd.Ads.size.custom_sizes={},Scribd.Ads.disable=function(){var e;return Scribd.log("ads disabled"),e="ads_disabled",window.jQuery?$(function(){return $("body").addClass(e).trigger("scribd:ads_disabled")}):document.observe("dom:loaded",function(){return document.body.addClassName(e)})},Scribd.Ads.set_data_layer=function(){var e,t,n,r,i,o,a,s,c,u,l,d,p,f,h,m;window.dataLayer=[],n={},p=Scribd.Ads.attributes;for(i in p)o=p[i],t={},t[i]=o[0],window.dataLayer.push(t),("IAB_A-L"===i||"IAB_M-Z"===i)&&o.length>=2&&(r={},r[""+i+"_SUB"]=o[1],window.dataLayer.push(r));if(Scribd.Ads.attributes["IAB_A-L"])for(f=Scribd.Ads.attributes["IAB_A-L"],a=function(e){var n;return n="SC_121_"+e,t={},t[n]="yes",dataLayer.push(t)},c=0,l=f.length;l>c;c++)e=f[c],a(e);if(Scribd.Ads.attributes["IAB_M-Z"])for(h=Scribd.Ads.attributes["IAB_M-Z"],s=function(e){var n;return n="SC_121_"+e,t={},t[n]="yes",dataLayer.push(t)},u=0,d=h.length;d>u;u++)e=h[u],s(e);return Scribd.geoModule(function(e){return window.dataLayer.push({country_code:e})}),Scribd.with_named_current_user(function(){var e,t;return e=Scribd.named_current_user(),e&&window.dataLayer.push({secret_sauce:Scribd.named_current_user().secret_sauce}),(null!=e?e.active_archive_purchase:void 0)||(null!=(t=Scribd.current_doc)?t.adfree_publisher:void 0)?window.dataLayer.push({ads_free:!0}):void 0}),(null!=(m=Scribd.current_doc)?m.author_name:void 0)?window.dataLayer.push({publisher_name:Scribd.current_doc.author_name.replace(/(\s+|\.)/g,"")}):void 0},Scribd.Ads.collapse_right_sticky=function(){return $("#pinned_ad").hide()},Scribd.Ads.add_addthis_tag=function(e){return window.addthis_config={data_track_addressbar:!0,pubid:e},window.jQuery?$.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid="+e):void 0}}).call(this);


/* public/javascripts/ads/ad_layouts.coffee @ 1393973407 */
(function(){Scribd.Ads.setAdLayouts=function(){var e,t,n,r,i,o,a,s,c;return Scribd.Ads.setRefererType(),t=function(e,t){return Scribd.Ads.addAttributeIfSmaller("AdLayout",e),trackEvent("AdTargeting","SpecialCase",t,0,!1)},(null!=(n=Scribd.current_doc)?n.adfree_publisher:void 0)&&t(0,"AdFreePublisher"),(null!=(r=Scribd.current_doc)?r.adult_uploader:void 0)&&t(0,"AdultUploader"),(null!=(i=Scribd._named_current_user)?i.has_purchased:void 0)&&t(0,"UserPurchasedDocument"),(null!=(o=Scribd.current_doc)?o.is_owner:void 0)&&t(0,"UserViewingOwnDocument"),(null!=(a=Scribd._named_current_user)?a.uploaded_at_least_three:void 0)&&t(0,"UserUploadedThreeOrMore"),(null!=(s=Scribd.current_doc)?s.is_private:void 0)&&t(1,"UserViewingPrivateDoc"),(null!=(c=Scribd.current_doc)?c.can_purchase:void 0)&&t(1,"UserViewingUnpurchasedDoc"),(e=window.location.href.match(/[?#&]adLayout=(\d)(?:[?#&]|$)/i))&&(e=parseInt(e[1],10),Scribd.log("forcing ad layout "+e),delete Scribd.Ads.attributes.AdLayout,Scribd.Ads.addAttribute("AdLayout",e)),trackEvent("AdTargeting","AdLayout",""+Scribd.Ads.attributes.AdLayout[0],0,!1)},Scribd.Ads.setByGeo=function(e){var t,n;return Scribd.currentLocation=Scribd.geoModule("now"),t=4,n={US:!0,CA:!0,AU:!0,GB:!0,FR:!0,IT:!0,DE:!0,NL:!0,BE:!0,PT:!0,CH:!0,AT:!0,SE:!0,DK:!0,IE:!0,NO:!0,FI:!0}[Scribd.currentLocation],t=e?n?3:4:n?1:3,Scribd.Ads.addAttributeIfSmaller("AdLayout",t)},Scribd.Ads.setRefererType=function(e){var t,n,r,i,o,a,s,c,u,l;return e||(e=document.referrer),r=/^https?:\/\/([^\/]+)/i,a=/[?&][pq]=([^&]+)/i,l=/^(?:[^.]+\.)?([^.]+)\.(?:(?:ac|com|edu|gc|gov|net|org|per|sch|co)\.?[^.]+)$/i,u=e.match(r),s="",u&&(c=u[1],n=c.match(l),t="",n&&(t=n[1]),o=e.match(a),o?(i=o[1],s=i.match(/scribd/i)?"branded search":"organic search"):t.match(/google|yahoo|ask|bing/i)&&(s="unknown search"),t.match(/^ycombinator.com|hackerne.ws|reddit.com$/i)&&(s="premium","reddit"!==t&&(t="hackernews"),Scribd.Ads.addAttributeIfSmaller("AdLayout",1)),s&&trackEvent("refererType",t,s,0,!1)),Scribd.Ads.setByGeo(!!s.match(/search$/))}}).call(this);


/* public/javascripts/ads/refresh_unit.coffee @ 1393973407 */
(function(){var e,t,n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=function(e,t){var n,r;return null!=(n="undefined"!=typeof Scribd&&null!==Scribd?null!=(r=Scribd.ServerOptions)?r[e]:void 0:void 0)?n:t},Scribd.Ads.trackEngagement=!1,Scribd.Ads.userIsActive=!1,Scribd.Ads.inactivityTimer=null,Scribd.Ads.idleTimeBeforeInactive=t("ad_refresh_idle_time_before_inactive",60),Scribd.Ads.refreshInterval=t("ad_refresh_interval",60),Scribd.Ads.delayBeforeTrackingEngagement=t("ad_refresh_engagement_tracking_delay",0),setTimeout(function(){return Scribd.Ads.trackEngagement=!0},1e3*Scribd.Ads.delayBeforeTrackingEngagement),Scribd.Ads.onUserActivity=function(){return Scribd.Ads.userIsActive=!0,clearTimeout(Scribd.Ads.inactivityTimer),Scribd.Ads.inactivityTimer=setTimeout(Scribd.Ads.onUserInactivity,1e3*Scribd.Ads.idleTimeBeforeInactive)},Scribd.Ads.onUserInactivity=function(){return Scribd.Ads.userIsActive=!1},Scribd.Ads.observingUserActivity=!1,Scribd.Ads.observeUserActivity=function(){return Scribd.Ads.observingUserActivity?void 0:(Scribd.Ads.onUserActivity(),$(document).mousemove(Scribd.Ads.onUserActivity),$(window).scroll(Scribd.Ads.onUserActivity),Scribd.Ads.observingUserActivity=!0)},Scribd.Ads.GPTRefreshUnit=function(){},Scribd.Ads.RefreshUnit=function(){function e(e){var t;this.name=e,Scribd.Ads.RefreshUnit.all[this.name]=this,t=Scribd.Ads.setupIframeUnit(this.name),this.width=t.size[0],this.height=t.size[1],this.urlParams=t.urlParams,Scribd.Ads.observeUserActivity(),this.listenForHover(),this.lastRefreshed=null,this.setupRefresh()}return e.prototype.container=function(){return document.getElementById(""+this.name+"_container")},e.prototype.setupRefresh=function(){return this.timesRefreshed=0,this.timer=null,this.setNextRefresh(),this.refresh()},e.prototype.listenForHover=function(){var e=this;return this.isOver=!1,this.container().observe?this.container().observe("mouseenter",function(){return e.isOver=!0}).observe("mouseleave",function(){return e.isOver=!1}):this.isOver=!1},e.prototype.getDuration=function(){var e;return null!=(e=this._duration)?e:1e3*Scribd.Ads.refreshInterval},e.prototype.duration=function(e){return"number"==typeof e&&(1e3>e&&(e*=1e3),this._duration=e,this.setNextRefresh()),this.getDuration()},e.prototype.stopRefreshing=function(){return clearTimeout(this.timer),delete this.timer},e.prototype.setNextRefresh=function(){var e,t=this;return this.stopRefreshing(),Scribd.Ads.suppressedAdUnits[this.name]?void 0:(e=this.lastRefreshed||this.attemptedRefreshAt?this.duration()-((new Date).getTime()-(this.lastRefreshed||this.attemptedRefreshAt)):3e3,0>=e&&(this.refresh(),e=3e3),this.timer=setTimeout(function(){return t.setNextRefresh()},e))},e.prototype.refresh=function(){return!Scribd.Ads.userIsActive&&Scribd.Ads.trackEngagement||this.isOver?void 0:(this.attemptedRefreshAt=(new Date).getTime(),delete this._duration,this.lastRefreshed=null,this.actuallyRefresh())},e.prototype.actuallyRefresh=function(){var e=this;return setTimeout(function(){return Scribd.Ads.replaceIframe(e.name,e.width,e.height,e.urlParams)},0)},e.prototype.iframeLoaded=function(){return this.lastRefreshed=(new Date).getTime(),this.timesRefreshed+=1},e}(),Scribd.Ads.RefreshUnit.get=Scribd.Ads.RefreshUnit.all={},e=["US","GB","FR","DE","JP"],Scribd.Ads.addRefreshUnit=function(t){return Scribd.Ads.load(function(){if(Scribd.Ads.enabled&&null==Scribd.Ads.RefreshUnit.all[t]&&null==Scribd.Ads.suppressedAdUnits[t]){if(1===Scribd.Ads.attributes.AdLayout[0])return Scribd.geoModule(function(r){return n.call(e,r)>=0?new Scribd.Ads.RefreshUnit(t):void 0});if(Scribd.Ads.attributes.AdLayout[0]>1)return new Scribd.Ads.RefreshUnit(t)}})},Scribd.Ads.isVisible=function(e){return!!Scribd.Ads.RefreshUnit.all[e]},Scribd.Ads.setupIframeUnit=function(e){var t;return{urlParams:"ad_unit="+escape(e),size:function(){var n,r,i,o;for(i=e.match(/.*_(\d+)x(\d+)$/).slice(1),o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(parseInt(t,10));return o}()}},Scribd.Ads.addPassbackUnit=function(e,t){var n;return n=Scribd.Ads.setupIframeUnit(e),Scribd.Ads.replaceIframe(t,n.size[0],n.size[1],n.urlParams,0)},Scribd.Ads.replaceIframe=function(e,t,n,r){var i,o;return i=$("#"+e+"_container"),i&&i.not(":empty")&&i.children("iframe").remove(),o=document.createElement("iframe"),o.width=t,o.height=n,o.scrolling="no",o.frameBorder=0,o.marginWidth=0,o.marginHeight=0,o.allowTransparency=!0,o.src="/ad_refresher.html#"+r,i.append(o)}}).call(this);


/* :files, 'public/javascripts/shared', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :class_inlines, 'app/views', ... @ (none) */
